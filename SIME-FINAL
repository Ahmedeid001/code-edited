

<script>
document.addEventListener("DOMContentLoaded", function () {

    // === 1. دالة الانتظار (من كودك الأصلي) ===
    function waitFor(selector, callback) {
        // إضافة فحص بسيط لمنع تكرار التنفيذ على نفس العنصر
        if (document.querySelector(selector + '[data-js-processed="true"]')) return;

        const interval = setInterval(() => {
            const el = document.querySelector(selector);
            if (el && !el.hasAttribute('data-js-processed')) {
                clearInterval(interval);
                el.setAttribute('data-js-processed', 'true'); // تعليم العنصر
                callback(el);
            }
        }, 200);
    }

    // === 2. تنفيذ التعديلات الهيكلية وتغيير الأيقونات ===
    
    // أ) ضبط الهيكل (Grid)
    waitFor("header.default_header .flex.items-center", function (headerRow) {
        headerRow.style.display = "grid";
        headerRow.style.gridTemplateColumns = "1fr auto 1fr";
        headerRow.style.alignItems = "center";
        headerRow.style.width = "100%";
    });

    // ب) زر المنيو
    waitFor("button.bg-white.py-2.lg\\:hidden", function (menuBtn) {
        menuBtn.querySelectorAll("svg, img").forEach(x => x.remove());
         menuBtn.classList.remove("bg-white");

        
        const img = document.createElement("img");
        img.src = "https://files.easy-orders.net/1765166038824688914.png";
        img.style.width = "23px";
        img.style.height = "23px";
        
        
  
        img.alt = "Menu";
        img.classList.add("custom-header-icon"); // كلاس للتحكم في اللون

        menuBtn.style.justifySelf = "start";
        menuBtn.style.marginLeft = "0px";
        menuBtn.style.backgroundColor = "transparent"; // مهم جداً: إزالة الخلفية البيضاء للزر
        
        menuBtn.appendChild(img);
    });

    // ج) زر البحث
    waitFor("a[href='/search']", function (searchParent) {
        searchParent.querySelectorAll("svg, img").forEach(x => x.remove());

        const img = document.createElement("img");
        img.src = "https://files.easy-orders.net/1765165976671910310.png";
        img.style.width = "25px";
        img.style.height = "25px";
        img.alt = "Search";
        img.classList.add("custom-header-icon");

        searchParent.style.marginRight = "-3px"; 
        searchParent.insertBefore(img, searchParent.firstChild);
    });

    // د) زر السلة
    waitFor("button.group.relative.flex.items-center", function (cartBtn) {
        const svg = cartBtn.querySelector("svg");
        if (svg) svg.remove();

        const img = document.createElement("img");
        img.src = "https://files.easy-orders.net/1765165976715042792.png";
        img.style.width = "22px";
        img.style.height = "22px";
        img.alt = "Cart";
        img.classList.add("custom-header-icon");

        cartBtn.style.marginRight = "20px";
        cartBtn.insertBefore(img, cartBtn.firstChild);
    });

    // هـ) حاوية الأيقونات
    waitFor(".ms-auto.flex.items-center", function (iconsWrapper) {
        iconsWrapper.style.justifySelf = "end";
        iconsWrapper.style.display = "flex";
        iconsWrapper.style.alignItems = "center";
        iconsWrapper.style.gap = "15px";
    });

    // و) توسيط اللوجو
    waitFor(".default_header_logo", function (logoArea) {
        logoArea.style.justifySelf = "center";
    });


    // === 3. منطق السكرول والصفحة الرئيسية (الجديد) ===
    let lastPath = "";
    const headerWrapper = document.querySelector('.sticky.top-0');
    const body = document.body;

    function handleScroll() {
        if (!body.classList.contains('is-home-page')) return;

        const scrollPercentage = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
        
        if (scrollPercentage > 1) {
            headerWrapper.classList.add('header-scrolled');
            headerWrapper.classList.remove('header-transparent');
        } else {
            headerWrapper.classList.add('header-transparent');
            headerWrapper.classList.remove('header-scrolled');
        }
    }

    function checkUrlChange() {
        const currentPath = window.location.pathname;
        if (currentPath !== lastPath) {
            lastPath = currentPath;
            if (currentPath === "/" || currentPath === "/index.html") {
                // نحن في الهوم
                body.classList.add('is-home-page');
                handleScroll();
                window.addEventListener('scroll', handleScroll);
            } else {
                // نحن في صفحة داخلية
                body.classList.remove('is-home-page');
                headerWrapper.classList.remove('header-transparent', 'header-scrolled');
                window.removeEventListener('scroll', handleScroll);
            }
        }
    }

    // تشغيل المراقب
    checkUrlChange();
    setInterval(checkUrlChange, 200);
});
</script>


<script>
document.addEventListener("DOMContentLoaded", function () {

    function waitFor(selector, callback) {
        const check = setInterval(() => {
            const el = document.querySelector(selector);
            if (el) {
                clearInterval(check);
                callback(el);
            }
        }, 200);
    }

    // ننتظر social icons تظهر
    waitFor(".flex.flex-col.gap-6.mt-6", function (socialBlock) {

        // منع التكرار
        if (document.querySelector(".km-footer-extra")) return;

        // === Parent Wrapper ===
        const wrapper = document.createElement("div");
        wrapper.className = "km-footer-extra";

        // === Child 1: Payment icons container ===
        const payment = document.createElement("div");
        payment.className = "km-payment-icons";
        payment.innerHTML = `
            <img src="https://white.a.bigcontent.io/v1/static/mastercard_1" alt="mastercard">
            <img src="https://white.a.bigcontent.io/v1/static/visa_1" alt="visa">
            <img src="https://white.a.bigcontent.io/v1/static/payPal_2" alt="paypal">
            <img src="https://white.a.bigcontent.io/v1/static/applePay" alt="applepay">
            <img src="https://white.a.bigcontent.io/v1/static/google-pay_1" alt="googlepay">
        `;

        // === Child 2: Legal links container ===
        const legal = document.createElement("div");
        legal.className = "km-legal-links";
        legal.innerHTML = `
            <a href="/pages/terms-and-conditions">Terms & Conditions</a>
            <span class="divider">•</span>
            <a href="/pages/privacy-policy">Privacy Policy</a>
            <span class="divider">•</span>
            <a href="/pages/cookie-policy">Cookie Policy</a>
            <span class="divider">•</span>
            <a href="/pages/accessibility">Accessibility</a>
        `;
        const copyrightD = document.createElement("div");
        copyrightD.className = "km-copyright-dt";
        copyrightD.innerHTML = `
            © ${new Date().getFullYear()} Le Perfume.
        `;

        // إضافة الأطفال للـ parent
        
        wrapper.appendChild(legal);
        wrapper.appendChild(copyrightD);
        wrapper.appendChild(payment);


        // إدراج الـ wrapper بعد بلوك السوشيال
        socialBlock.insertAdjacentElement("afterend", wrapper);
    });

});
</script>




<script>
document.addEventListener("DOMContentLoaded", function () {

    function waitFor(selector, callback) {
        const check = setInterval(() => {
            const el = document.querySelector(selector);
            if (el) {
                clearInterval(check);
                callback(el);
            }
        }, 200);
    }

    /* ======================================================
       1) نسخة الديسكتوب — داخل قسم hidden lg:grid
       ====================================================== */

    waitFor(".hidden.lg\\:grid.lg\\:grid-cols-4", function (desktopGrid) {

        if (document.querySelector(".km-footer-extra-dt")) return;

        // Parent wrapper
        const wrapperDT = document.createElement("div");
        wrapperDT.className = "km-footer-extra-dt";

        // Payment icons
        const paymentDT = document.createElement("div");
        paymentDT.className = "km-payment-icons-dt";
        paymentDT.innerHTML = `
            <img src="https://white.a.bigcontent.io/v1/static/mastercard_1">
            <img src="https://white.a.bigcontent.io/v1/static/visa_1">
            <img src="https://white.a.bigcontent.io/v1/static/payPal_2">
            <img src="https://white.a.bigcontent.io/v1/static/applePay">
            <img src="https://white.a.bigcontent.io/v1/static/google-pay_1">
        `;

        // Legal links
        const legalDT = document.createElement("div");
        legalDT.className = "km-legal-links-dt";
        legalDT.innerHTML = `
            <a href="/pages/terms-and-conditions">Terms & Conditions</a>
            <span class="divider">•</span>
            <a href="/pages/privacy-policy">Privacy Policy</a>
            <span class="divider">•</span>
            <a href="/pages/cookie-policy">Cookie Policy</a>
            <span class="divider">•</span>
            <a href="/pages/accessibility">Accessibility</a>
        `;

        // Copyright block
        const copyrightDT = document.createElement("div");
        copyrightDT.className = "km-copyright-dt";
        copyrightDT.innerHTML = `
            © ${new Date().getFullYear()} Le Perfume — All Rights Reserved.
        `;

        // Append children
        wrapperDT.appendChild(paymentDT);
        wrapperDT.appendChild(legalDT);
        wrapperDT.appendChild(copyrightDT);

        // Insert after grid
        desktopGrid.insertAdjacentElement("afterend", wrapperDT);
    });

});

</script>
<style>
/* 1. تنظيف الهيدر (إخفاء SVG القديم) */
/* ======================================================
   1. تنظيف الهيدر (إخفاء SVG القديم)
   ====================================================== */
.default_header svg {
    display: none !important;
}

/* 2. تحسينات الصور الجديدة */
.custom-header-icon {
    display: block;
    transition: filter 0.3s ease;
}

/* ======================================================
   إعدادات الهيدر في الصفحة الرئيسية (Home Logic)
   ====================================================== */

/* أ) تثبيت الهيدر */
body.is-home-page .sticky.top-0 {
    position: fixed !important;
    width: 100%;
    top: 0;
    z-index: 999;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

/* -----------------------------------------------------------
   ب) الحالة الشفافة (Transparent State)
   ----------------------------------------------------------- */
body.is-home-page .sticky.top-0.header-transparent {
    background-color: transparent !important;
    box-shadow: none !important;
    border-bottom: none !important;
}

/* تفريغ الخلفيات الداخلية */
body.is-home-page .sticky.top-0.header-transparent .default_header,
body.is-home-page .sticky.top-0.header-transparent .default_header_container,
body.is-home-page .sticky.top-0.header-transparent .bg-white {
    background-color: transparent !important;
}

/* إخفاء خلفية اللوجو */
body.is-home-page .sticky.top-0.header-transparent img:not(.custom-header-icon) {
    background: transparent !important;
}

/* جعل النصوص والروابط بيضاء */
body.is-home-page .sticky.top-0.header-transparent .default_header a,
body.is-home-page .sticky.top-0.header-transparent .default_header button {
    color: #ffffff !important;
}

/* تحويل الأيقونات السوداء إلى بيضاء */
body.is-home-page .sticky.top-0.header-transparent .custom-header-icon {
    filter: brightness(0) invert(1) !important;
}


/* -----------------------------------------------------------
   ج) الحالة عند السكرول (Scrolled State) - التعديل الجديد
   ----------------------------------------------------------- */


/* نشيل أي خلفية بيضا جوه الهيدر في وضع الـ scroll */
body.is-home-page .sticky.top-0.header-scrolled .default_header,
body.is-home-page .sticky.top-0.header-scrolled .default_header_container,
body.is-home-page .sticky.top-0.header-scrolled .bg-white {
    background-color: transparent !important;
    background-image: url("https://files.easy-orders.net/1765172933978546825.webp") !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-color: transparent !important;
    position: relative;
    overflow: hidden;
}


/* ✅ جعل النصوص والروابط تظل بيضاء (White) */
body.is-home-page .sticky.top-0.header-scrolled .default_header a,
body.is-home-page .sticky.top-0.header-scrolled .default_header button {
    color: #ffffff !important;
}

/* ✅ جعل الأيقونات تظل بيضاء (White) */
body.is-home-page .sticky.top-0.header-scrolled .custom-header-icon {
    filter: brightness(0) invert(1) !important;
}

/* ======================================================
   إصلاحات إضافية
   ====================================================== */
.default_header button.group.relative div.absolute {
    display: flex !important;
    z-index: 10;
}
.flex-1.flex.items-center.gap-3 {
    margin-left: 20px;
}
.border-t.bg-skin-primary.text-skin-a11y.py-8.max-lg\:pb-20.\!bg-white.\!text-skin-primary {
    display: none !important;
}
/* هيدر في وضع Scrolled بالصورة */
body.is-home-page .sticky.top-0.header-scrolled {
    background-image: url("https://files.easy-orders.net/1765172933978546825.webp") !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-color: transparent !important;
    position: relative;
    overflow: hidden;
}

footer {
    background-image: url("https://files.easy-orders.net/1765172933978546825.webp") !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-color: transparent !important;
}

/* إزالة أي خلفية بيضا موجودة داخل عناصر الفوتر */
footer * {
    background-color: transparent !important;
}
/* صفحات غير الهوم */
body:not(.is-home-page) .sticky.top-0 {
    background-image: url("https://files.easy-orders.net/1765172933978546825.webp") !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-color: transparent !important;
}

/* إزالة الخلفيات الداخلية البيضاء داخل الهيدر */
body:not(.is-home-page) .sticky.top-0 .default_header,
body:not(.is-home-page) .sticky.top-0 .default_header_container,
body:not(.is-home-page) .sticky.top-0 .bg-white {
    background-color: transparent !important;
    background-image: none !important;
}

/* النصوص والأيقونات تظل بيضاء */
body:not(.is-home-page) .sticky.top-0 .default_header a,
body:not(.is-home-page) .sticky.top-0 .default_header button {
    color: #ffffff !important;
}

body:not(.is-home-page) .sticky.top-0 .custom-header-icon {
    filter: brightness(0) invert(1) !important;
}

</style>
<style>
/* parent wrapper */
.km-footer-extra {
    width: 100%;
    margin-top: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
}

/* ====== Child 1: Payment Icons ====== */

.km-payment-icons {
    display: flex;
    gap: 18px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
}

.km-payment-icons img {
    height: 28px;
    width: auto;
    opacity: 0.85;
    transition: opacity 0.2s ease;
}
.km-payment-icons img:hover {
    opacity: 1;
}


/* ====== Child 2: Legal Links ====== */

.km-legal-links {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
}

.km-legal-links a {
    font-size: 15px;
    color: #F0EAD6;
    text-decoration: none;
    opacity: .8;
}

.km-legal-links a:hover {
    opacity: 1;
    color: #000;
}

.km-legal-links .divider {
    font-size: 18px;
    font-weight: bold;
    color: #c3a5a5;
}

/* ====== Desktop layout – Side-By-Side ====== */


/* Parent wrapper desktop */
/* Parent wrapper desktop */
.km-footer-extra-dt {
    width: 100%;
    padding-top: 30px;
    padding-bottom: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 18px;
}

/* Payment icons */
.km-payment-icons-dt img {
    height: 28px;
    margin: 0 8px;
    object-fit: contain;
}

.km-payment-icons-dt {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 12px;
}

/* Legal links */
.km-legal-links-dt {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 10px;
    font-size: 14px;
}

.km-legal-links-dt a {
    color: inherit;
}

.km-legal-links-dt .divider {
    font-weight: bold;
    margin: 0 8px;
}

/* Desktop only */
@media (max-width: 1024px) {
    .km-footer-extra-dt {
        display: none;
    }
}

.border-t.bg-skin-primary.text-skin-a11y.py-8.max-lg\:pb-20.\!bg-white.\!text-skin-primary {
    display: none !important;
}

.footer.bg-white.bg-skin-primary.text-skin-a11y {
    color: #F0EAD6;
}
.max-w-7xl.mx-auto.px-4.sm\:px-6.lg\:px-8.py-8.lg\:py-12 {
    COLOR: #F0EAD6;
}
.flex.flex-wrap.gap-3 {
    filter: invert(1) brightness(90%);
        justify-content: center;
}
.flex-shrink-0.w-10.h-10.flex.items-center.justify-center.bg-skin-primary.rounded-full.\!bg-white.\[\&\>svg\]\:\!text-skin-primary {
    background-color: #00000000 !important;
}

/* ===== موبايل فقط ===== */
@media (max-width: 1023px) {
    .km-footer-extra .km-copyright-dt {
                border-top: 1px solid rgb(255 255 255);
        padding-top: 7px;
        margin-top: -9px;
        width: 100%;
        text-align: center;
    }
}

.flex.flex-1.flex-col {
    background-color: #e9e5e366;
}
</style>
